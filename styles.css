body {
  margin: 0;
  padding: 0;
}

.space {
  height: 100vh;
}

.squares {
  height: 400vh;
  display: flex;
  justify-content: space-around;
  position: relative;
}

.square {
  width: 300px;
  height: 300px;
  background: black;
  position: sticky;
  top: 33vh;
  animation-name: flip;

  transform: rotate(0deg);
}

.square:nth-child(1) {
  animation: flip linear;
  animation-timeline: scroll();
  animation-range: 100vh 200vh;
}

.square:nth-child(2) {
  animation: flip linear;
  animation-timeline: scroll();
  animation-range: 200vh 300vh;
}

.square:nth-child(3) {
  animation: flip linear;
  animation-timeline: scroll();
  animation-range: 300vh 400vh;
}

@keyframes flip {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(180deg);
  }
}
